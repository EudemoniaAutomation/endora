<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Endora — happier guests, more revenue, less work</title>
  <meta name="description" content="Endora is your digital concierge. One QR code unlocks 24/7 guest support, insider tips, and bookable extras — more revenue, less work."/>
  <style>
    /* ------- Base / Theme ------- */
    *{box-sizing:border-box;margin:0;padding:0}
    :root{
      --bg:#0a0f16; --ink:#eaf2ff; --muted:#9fb0c6;
      --acc:#4A90E2; --acc-2:#6BA3F5; --acc-dark:#2E5C8A;
      --card:#11151c; --card-bd:rgba(100,150,255,.18);
      --glass:rgba(255,255,255,.04);
      --shadow:0 10px 40px rgba(0,0,0,.45);
      --qr: 184px;
    }
    body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',system-ui,sans-serif;background:#000;color:var(--ink);overflow-x:hidden}
    body::before{
      content:"";position:fixed;inset:0;z-index:-2;
      background:
        radial-gradient(1000px 600px at 18% 20%, rgba(74,144,226,.25), transparent 60%),
        radial-gradient(800px 800px at 82% 80%, rgba(74,144,226,.18), transparent 60%),
        linear-gradient(180deg,#05070a 0%,#0c1016 60%,#0a0a0a 100%);
      animation:bgShift 20s ease-in-out infinite;
    }
    @keyframes bgShift{0%,100%{transform:scale(1)}50%{transform:scale(1.06)}}

    /* soft particles */
    .particles{position:fixed;inset:0;pointer-events:none;z-index:-1}
    .p{position:absolute;width:2px;height:2px;background:var(--acc);border-radius:50%;opacity:0;box-shadow:0 0 12px var(--acc-2);animation:float 14s linear infinite}
    @keyframes float{
      0%{transform:translateY(100vh) translateX(0);opacity:0}
      10%{opacity:.9}
      90%{opacity:.9}
      100%{transform:translateY(-120vh) translateX(120px);opacity:0}
    }

    .container{max-width:1200px;margin:0 auto;padding:40px 18px}

    /* ------- Hero ------- */
    .hero{text-align:center;padding:80px 0 56px}
    .badge{display:inline-block;padding:8px 18px;border:1px solid var(--card-bd);border-radius:999px;color:#bcd8ff;background:linear-gradient(135deg, rgba(74,144,226,.18), rgba(74,144,226,.06));letter-spacing:2px;font-size:12px;font-weight:700;text-transform:uppercase}
    .hero h1{
      margin:18px auto 14px;line-height:1.05;
      font-size:clamp(2.4rem,6.5vw,4rem);font-weight:900;
      background-image:linear-gradient(135deg,#fff 0%, #cfe3ff 30%, var(--acc) 65%, #89b8ff 100%);
      -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;
      text-shadow: 0 0 60px rgba(74,144,226,.45);
    }
    .hero p{max-width:760px;margin:0 auto;color:var(--muted);font-size:1.1rem}

    .cta-row{display:flex;flex-wrap:wrap;gap:14px;justify-content:center;margin-top:26px}
    .btn{
      display:inline-flex;align-items:center;gap:.6rem;white-space:nowrap;
      padding:16px 28px;border-radius:999px;font-weight:800;text-decoration:none;
      transition:.25s ease;position:relative
    }
    .btn-primary{
      background:linear-gradient(135deg,var(--acc),var(--acc-2));color:#041220;
      box-shadow:0 8px 26px rgba(74,144,226,.45)
    }
    .btn-primary:hover{transform:translateY(-2px);box-shadow:0 14px 40px rgba(74,144,226,.6)}
    .btn-ghost{
      color:#cfe3ff;border:2px solid var(--acc);background:transparent
    }
    .btn-ghost:hover{background:rgba(74,144,226,.15);transform:translateY(-2px)}

    /* ------- Demo Card ------- */
    .card{
      position:relative;overflow:hidden;border-radius:28px;padding:38px 26px;margin-top:56px;
      background:linear-gradient(135deg, rgba(14,18,26,.9), rgba(14,18,26,.7));
      border:1px solid var(--card-bd);box-shadow:var(--shadow)
    }
    .card::before{
      content:"";position:absolute;inset:14px;border-radius:22px;z-index:0;
      background-image:
        linear-gradient(180deg, rgba(0,0,0,.52), rgba(0,0,0,.52)),
        url('https://d1yei2z3i6k35z.cloudfront.net/12820362/68a47346dc795_ModernCozyLivingRoom.jpeg?width=1920');
      background-size:cover;background-position:center;
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.06);
      filter:saturate(1.05) brightness(.85);
    }
    .card>*{position:relative;z-index:1}
    .demo-title{text-align:center;font-weight:800;font-size:1.8rem;margin-bottom:8px}
    .demo-sub{color:var(--muted);margin:0 auto 18px;text-align:center;max-width:760px}

    /* ------- Chat ------- */
    .chat{
      width:min(520px,100%);height:520px;margin:0 auto 18px;border-radius:18px;
      background:rgba(10,12,16,.92);border:1px solid rgba(120,160,255,.22);
      display:flex;flex-direction:column;overflow:hidden;backdrop-filter:blur(16px)
    }
    .chat-h{
      display:flex;align-items:center;justify-content:space-between;
      background:linear-gradient(90deg,var(--acc),var(--acc-2));color:#011427;
      padding:12px 14px;font-weight:900
    }
    .chat-h .brand{display:flex;gap:.5rem;align-items:center}
    .sparkle{display:inline-block;font-size:16px;filter:drop-shadow(0 0 6px rgba(255,255,255,.35));animation:pop 2s ease-in-out infinite}
    @keyframes pop{0%,100%{transform:scale(1)}50%{transform:scale(1.15)}}

    .msgs{flex:1;overflow:auto;padding:16px;display:flex;flex-direction:column;gap:10px;background:rgba(5,7,10,.65)}
    .m{max-width:85%;padding:12px 14px;border-radius:16px;font-size:14px;line-height:1.5;word-break:break-word;animation:msg .25s ease}
    @keyframes msg{from{transform:scale(.96);opacity:.2}to{transform:scale(1);opacity:1}}
    .m.user{align-self:flex-end;background:linear-gradient(135deg, rgba(74,144,226,.22), rgba(74,144,226,.08));border:1px solid rgba(120,160,255,.35)}
    .m.bot{align-self:flex-start;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);color:#e6eefb}
    .m a{color:#9cc8ff;text-decoration:underline}
    .m a:hover{text-decoration:none;filter:brightness(1.1)}

    .inputbar{position:relative;display:flex;border-top:1px solid rgba(120,160,255,.22)}
    .inputbar input{flex:1;background:transparent;border:0;color:#fff;padding:14px}
    .inputbar input::placeholder{color:#94a3b8}
    .send{background:linear-gradient(135deg,var(--acc),var(--acc-2));border:0;color:#041220;font-weight:900;padding:0 18px;cursor:pointer}
    .send:hover{filter:brightness(1.05)}

    /* waiting shimmer + dots */
    .inputbar.waiting::after{
      content:"";position:absolute;left:0;right:0;bottom:0;height:2px;
      background:linear-gradient(90deg,transparent,var(--acc),transparent);
      background-size:200% 100%;animation:shimmer 1.6s ease-in-out infinite;opacity:.7
    }
    @keyframes shimmer{0%{background-position:-50% 0}100%{background-position:150% 0}}
    .typing{
      position:absolute;left:12px;bottom:52px;display:flex;gap:6px;align-items:center;
      padding:7px 10px;border-radius:12px;background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);backdrop-filter:blur(10px);
      opacity:0;transform:translateY(6px);transition:.25s
    }
    .typing.show{opacity:1;transform:translateY(0)}
    .typing .d{width:6px;height:6px;border-radius:50%;background:#dde6f6;opacity:.8;animation:bounce 1.2s infinite ease-in-out}
    .typing .d:nth-child(2){animation-delay:.12s}.typing .d:nth-child(3){animation-delay:.24s}
    @keyframes bounce{0%,80%,100%{transform:translateY(0);opacity:.5}40%{transform:translateY(-6px);opacity:1}}

    /* ------- QR + actions ------- */
    .qr-row{display:flex;flex-direction:column;align-items:center;gap:10px;position:relative}
    .qr-plate{
      width:var(--qr);height:var(--qr);border-radius:20px;position:relative;overflow:hidden;
      background:rgba(255,255,255,.92);box-shadow:0 16px 44px rgba(74,144,226,.35), inset 0 0 18px rgba(74,144,226,.12);
      border:1px solid rgba(120,160,255,.25);cursor:pointer;transition:.2s
    }
    .qr-plate:hover{transform:scale(1.03)}
    .qr-plate img{position:absolute;inset:10px;width:calc(100% - 20px);height:calc(100% - 20px);object-fit:contain;border-radius:14px}
    .qr-note{font-size:14px;color:var(--muted);text-align:center}
    .qr-note strong{color:#bcd8ff}

    /* bubble over QR */
    .chat-bubble{
      position:absolute;right:calc(50% - var(--qr)/2 + 6px);bottom:6px;
      width:56px;height:56px;border-radius:50%;display:grid;place-items:center;
      background:linear-gradient(135deg,var(--acc),var(--acc-2));color:#04233c;font-size:24px;
      box-shadow:0 10px 30px rgba(74,144,226,.5), inset 0 -3px 10px rgba(0,0,0,.2);
      animation:bub 2s infinite;cursor:pointer
    }
    @keyframes bub{0%,100%{transform:scale(1)}50%{transform:scale(1.08)}}
    .chat-badge{position:absolute;top:-6px;right:-6px;background:#ff3b6b;color:#fff;font-size:12px;font-weight:800;padding:2px 7px;border-radius:20px}

    /* ------- Sections ------- */
    .section{margin:86px 0 14px}
    .title{font-size:2.4rem;font-weight:900;margin-bottom:10px;
      background-image:linear-gradient(135deg,#fff 0%, #d9e7ff 35%, var(--acc) 80%);
      -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
    .subtitle{color:var(--muted);max-width:680px;margin:0 auto 28px;text-align:center}

    .steps{display:grid;grid-template-columns:repeat(4,1fr);gap:22px;margin-top:26px}
    .step{background:var(--glass);border:1px solid var(--card-bd);border-radius:16px;padding:22px;text-align:center;backdrop-filter:blur(16px);transition:.25s}
    .step:hover{transform:translateY(-4px)}
    .n{width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,var(--acc),var(--acc-2));display:grid;place-items:center;color:#03121f;font-weight:900;font-size:1.6rem;margin:0 auto 12px}

    .features{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:18px;margin-top:24px}
    .feat{display:flex;align-items:center;gap:12px;background:var(--glass);border:1px solid var(--card-bd);padding:18px;border-radius:14px}
    .tick{width:40px;height:40px;border-radius:50%;display:grid;place-items:center;background:var(--acc);color:#04233c;font-weight:900}

    /* ------- Pricing ------- */
    .pricing{margin:84px auto 28px;max-width:900px}
    .pricing .title{text-align:center}
    .price-list{display:grid;gap:16px;margin-top:16px}
    .price-item{
      display:grid;grid-template-columns:1fr auto;gap:8px;align-items:start;
      padding:16px 18px;border-radius:14px;background:var(--glass);border:1px solid var(--card-bd)
    }
    .price-item h4{font-size:1.05rem}
    .price-item p{color:var(--muted);font-size:.96rem;margin-top:6px}
    .price{font-weight:900;white-space:nowrap;padding-left:16px;display:flex;align-items:baseline;gap:.25rem}

    /* ------- Footer ------- */
    footer{margin:90px 0 20px;text-align:center;padding-top:26px;border-top:1px solid var(--card-bd);background:linear-gradient(180deg,#0c1118,#0b0f15)}
    .footer-links{margin-top:10px}
    .footer-links a{color:#a9bdd7;text-decoration:none;margin:0 12px}
    .footer-links a:hover{color:#cfe3ff}

    /* Responsive */
    @media (max-width:900px){.steps{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:620px){
      .steps{grid-template-columns:1fr}
      .chat{height:500px}
      .qr-plate{--qr:160px}
      .price-item{grid-template-columns:1fr}
      .price{padding-left:0}
      .chat-bubble{right:calc(50% - var(--qr)/2 + 0px);bottom:-4px}
    }
  </style>
</head>
<body>
  <!-- soft particles -->
  <div class="particles">
    <div class="p" style="left:8%;animation-delay:0s"></div>
    <div class="p" style="left:20%;animation-delay:2s"></div>
    <div class="p" style="left:35%;animation-delay:4s"></div>
    <div class="p" style="left:50%;animation-delay:6s"></div>
    <div class="p" style="left:65%;animation-delay:8s"></div>
    <div class="p" style="left:78%;animation-delay:10s"></div>
    <div class="p" style="left:90%;animation-delay:12s"></div>
  </div>

  <div class="container">
    <!-- HERO -->
    <section class="hero">
      <div class="badge">Premium guest experience</div>
      <h1>Endora — your Digital Concierge</h1>
      <p>One QR code in the apartment is all it takes — guests get 24/7 answers, insider tips, and bookable extras while you earn automatically.</p>
      <div class="cta-row">
        <a class="btn btn-primary" href="https://buy.stripe.com/dRmdRab5I2gycqN3nA0Jq00">Order Endora (with landing page)</a>
        <a class="btn btn-ghost"   href="https://buy.stripe.com/aFaaEY0r4aN4cqN2jw0Jq01">Order Endora (without landing page)</a>
      </div>
    </section>

    <!-- DEMO -->
    <section class="card">
      <h2 class="demo-title">Live demo — meet Endora</h2>
      <p class="demo-sub">Ask anything: check-in, house rules, amenities, or local tips. Endora replies instantly.</p>

      <div class="chat" id="chat">
        <div class="chat-h">
          <div class="brand">💬 Endora <span class="sparkle">✨</span></div>
          <button id="x" style="all:unset;cursor:default"> </button>
        </div>
        <div class="msgs" id="msgs"></div>
        <div class="inputbar" id="ibar">
          <input id="q" type="text" placeholder="Ask e.g. ‘Where’s a great place to eat tonight?’"/>
          <button id="send" class="send">Send</button>
          <div id="typing" class="typing" aria-hidden="true"><div class="d"></div><div class="d"></div><div class="d"></div></div>
        </div>
      </div>

      <div class="qr-row">
        <a class="qr-plate" id="qr-link" href="#">
          <img id="qr" alt="QR to open chat"/>
        </a>
        <div class="chat-bubble" id="bubble" title="Open chat">💬 <span class="chat-badge">1</span></div>
        <div class="qr-note"><strong>Scan the QR</strong> Guests open the chat on their phone instantly — no app required.</div>
      </div>
    </section>

    <!-- HOW IT WORKS -->
    <section class="section">
      <h2 class="title" style="text-align:center">How it works</h2>
      <p class="subtitle">Four simple steps to more revenue and happier guests</p>
      <div class="steps">
        <div class="step"><div class="n">1</div><h4>Place the QR code</h4><p>Stick it in the apartment — done in 30 seconds.</p></div>
        <div class="step"><div class="n">2</div><h4>Guests scan</h4><p>They scan with their phone → the chat opens instantly, no app needed.</p></div>
        <div class="step"><div class="n">3</div><h4>Get recommendations</h4><p>Local tips and vetted partner services right in the chat.</p></div>
        <div class="step"><div class="n">4</div><h4>Earn automatically</h4><p>Track bookings and earn commissions with zero extra effort.</p></div>
      </div>
    </section>

    <!-- BENEFITS -->
    <section class="section">
      <h2 class="title" style="text-align:center">Benefits at a glance</h2>
      <p class="subtitle">Everything you need to take your rental to the next level</p>
      <div class="features">
        <div class="feat"><div class="tick">✓</div><div>Plug &amp; play — ready in minutes</div></div>
        <div class="feat"><div class="tick">✓</div><div>White-label capable</div></div>
        <div class="feat"><div class="tick">✓</div><div>GDPR-compliant, hosted in the EU</div></div>
        <div class="feat"><div class="tick">✓</div><div>Additional revenue with no extra work</div></div>
        <div class="feat"><div class="tick">✓</div><div>Franchise partner option</div></div>
        <div class="feat"><div class="tick">✓</div><div>24/7 service — nights &amp; weekends</div></div>
      </div>
    </section>

    <!-- PRICING -->
    <section class="pricing">
      <h2 class="title">Pricing</h2>
      <p class="subtitle">Prices shown are VAT-exclusive where applicable</p>

      <div class="price-list">
        <!-- Endora monthly FIRST -->
        <div class="price-item">
          <div>
            <h4>Endora (subscription)</h4>
            <p>Your subscription to your digital concierge service — more revenue, less work, happier guests. Billed monthly.</p>
          </div>
          <div class="price"><span>€</span><span>9.00 / month</span></div>
        </div>

        <div class="price-item">
          <div>
            <h4>Setup with landing page</h4>
            <p>Create a landing page for the Accommodation Concierge (AC). Includes 3 revisions, hosted under a Eudemonia URL, QR-code creation, AC integration, and page hosting while the AC subscription is active.</p>
          </div>
          <div class="price"><span>€</span><span>250.00</span></div>
        </div>

        <div class="price-item">
          <div>
            <h4>Setup without landing page</h4>
            <p>You use your own landing page for the AC. We provide the code snippet to reach the AC (requires JSON/HTML skills) which you integrate yourself. You supply the URL we store in our database for calls. Includes QR-code creation.</p>
          </div>
          <div class="price"><span>€</span><span>90.00</span></div>
        </div>
      </div>

      <div class="cta-row" style="margin-top:22px">
        <a class="btn btn-primary" href="https://buy.stripe.com/dRmdRab5I2gycqN3nA0Jq00">Order Endora (with landing page)</a>
        <a class="btn btn-ghost"   href="https://buy.stripe.com/aFaaEY0r4aN4cqN2jw0Jq01">Order Endora (without landing page)</a>
        <a class="btn btn-ghost"   href="mailto:info@eudemonia-coaching.de">Affiliate / partners / custom offers</a>
      </div>
    </section>
  </div>

  <footer>
    <div>© 2025 Endora — GDPR-compliant &amp; made in EU</div>
    <div class="footer-links">
      <a href="https://eudemoniaautomation.github.io/endora/legal.html" target="_blank" rel="noopener">Legal Notice</a> |
      <a href="https://eudemoniaautomation.github.io/endora/legal.html" target="_blank" rel="noopener">Privacy Policy</a> |
      <a href="https://eudemoniaautomation.github.io/endora/legal.html" target="_blank" rel="noopener">Terms &amp; Conditions</a>
    </div>
  </footer>

  <script>
    // ---------- Config ----------
    const WEBHOOK = "https://automation.eudemonia-coaching.de/webhook/477363f3-7434-4c31-92e5-fb4da3db4150";
    const APARTMENT_LABEL = "Landing Page (EN)";
    const PRETTY_WELCOME = "Welcome! 👋 I'm Endora, your Digital Concierge. Ask me anything about your stay.";

    // ---------- Pretty link helpers ----------
    function prettyLabel(href, max=54){
      try{
        const u = new URL(href);
        let host = u.hostname.replace(/^www\./,'');
        let path = (u.pathname || '').replace(/\/$/,'');
        if(path.length>28) path = path.slice(0,28)+'…';
        const label = host + (path?('/'+path):'');
        return label.length>max ? label.slice(0,max)+'…' : label;
      }catch{ return href.length>max ? href.slice(0,max)+'…' : href; }
    }

    function linkifyInto(el){
      const URL_RE = /((https?:\/\/|www\.)[^\s<>"'`()]+)(?![^<]*>)/gi;
      function walk(node){
        if(node.nodeType===3){
          const text=node.nodeValue; if(!text) return;
          const frag=document.createDocumentFragment(); let last=0,m;
          URL_RE.lastIndex=0;
          while((m=URL_RE.exec(text))!==null){
            const raw=m[0]; const href = raw.startsWith('www.') ? 'https://'+raw : raw;
            const cleanRaw = raw.replace(/[),.;!?]+$/,'');
            if(m.index>last) frag.appendChild(document.createTextNode(text.slice(last,m.index)));
            const a=document.createElement('a'); a.href=href; a.target='_blank'; a.rel='noopener';
            a.textContent=prettyLabel(href);
            frag.appendChild(a);
            last=m.index+raw.length;
            const trailing = raw.slice(cleanRaw.length); if(trailing) frag.appendChild(document.createTextNode(trailing));
          }
          if(last===0) return;
          if(last<text.length) frag.appendChild(document.createTextNode(text.slice(last)));
          node.parentNode.replaceChild(frag,node);
        }else if(node.nodeType===1 && node.childNodes){[...node.childNodes].forEach(walk);}
      }
      walk(el);
    }

    function addMsg(container, text, who){
      const div=document.createElement('div'); div.className='m '+(who||'bot'); div.textContent=text||'';
      container.appendChild(div); linkifyInto(div);
      container.scrollTop=container.scrollHeight;
    }

    // ---------- Chat ----------
    (function(){
      // never auto-open anything; this page is standalone
      const msgs = document.getElementById('msgs');
      const q    = document.getElementById('q');
      const send = document.getElementById('send');
      const ibar = document.getElementById('ibar');
      const typing = document.getElementById('typing');

      // welcome once
      addMsg(msgs, PRETTY_WELCOME, 'bot');

      async function ask(){
        const text=(q.value||'').trim(); if(!text) return;
        addMsg(msgs, text, 'user'); q.value='';
        ibar.classList.add('waiting'); typing.classList.add('show');

        try{
          const payload = {
            question: text,
            url: location.href,
            meta: { apartment: APARTMENT_LABEL, source: "landing" }
          };

          const res = await fetch(WEBHOOK, {
            method:'POST',
            mode:'cors',
            headers:{
              'Content-Type':'application/json',
              'Accept':'application/json, text/plain;q=0.9, */*;q=0.8'
            },
            body: JSON.stringify(payload)
          });

          let reply = '';
          const ct=(res.headers.get('content-type')||'').toLowerCase();

          // robust parse: JSON -> pick first meaningful field
          if(ct.includes('application/json')){
            try{
              const data = await res.json();
              if (data==null) reply='';
              else if (typeof data === 'string') reply=data;
              else {
                reply = (data.answer || data.output || data.text || data.message || data.content || (data.choices&&data.choices[0]&&data.choices[0].message&&data.choices[0].message.content) || '');
              }
            }catch{ reply=''; }
          } else {
            try{ reply = await res.text(); }catch{ reply=''; }
          }

          reply = (reply||'').toString().trim();

          // graceful fallback
          addMsg(msgs, reply || 'No answer received.', 'bot');
        }catch(e){
          addMsg(msgs, 'No answer received.', 'bot');
        }finally{
          ibar.classList.remove('waiting'); typing.classList.remove('show');
        }
      }

      send.addEventListener('click', ask);
      q.addEventListener('keydown', (e)=>{ if(e.key==='Enter') ask(); });

      // ---------- QR opens chat focus ----------
      const qrImg  = document.getElementById('qr');
      const qrLink = document.getElementById('qr-link');
      const bubble = document.getElementById('bubble');
      [qrLink, bubble].forEach(el=>el&&el.addEventListener('click', (e)=>{ e.preventDefault(); q.focus(); }));

      (function buildQR(){
        // encode *this* page URL, no hash/params
        const target = location.origin + location.pathname;
        const src1 = 'https://quickchart.io/qr?text=' + encodeURIComponent(target) +
                    '&size=512&margin=8&ecLevel=H&format=png&dark=%23000000&light=%23ffffff';
        const src2 = 'https://api.qrserver.com/v1/create-qr-code/?size=512x512&data=' + encodeURIComponent(target);
        qrImg.onerror = ()=>{ if(!qrImg.dataset.fallback){ qrImg.dataset.fallback='1'; qrImg.src=src2; } };
        qrImg.src = src1;
      })();
    })();
  </script>
</body>
</html>
